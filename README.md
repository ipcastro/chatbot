# ğŸµ Chatbot Musical - A Vitrine Profissional

> **Seu Assistente Musical Inteligente com IA Adaptativa, Painel de AnÃ¡lise AvanÃ§ado e PersonalizaÃ§Ã£o em Tempo Real**

---

## ğŸ¬ DemonstraÃ§Ã£o em AÃ§Ã£o

### Interface do Chatbot
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸµ Chatbot Musical - Seu guia musical virtual        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Escolha a personalidade do chatbot:                         â”‚
â”‚  [ğŸ‘¨â€ğŸ« Professor] [ğŸ§ DJ Animado] [ğŸ­ CrÃ­tico] [ğŸ¼ Compositor]  â”‚
â”‚  [ğŸ“š Historiador]                                             â”‚
â”‚                                                               â”‚
â”‚  ğŸ’¬ Conversa em tempo real                                    â”‚
â”‚  ğŸ“š HistÃ³rico persistente                                     â”‚
â”‚  ğŸ­ 5 Personalidades diferentes                              â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Painel de AdministraÃ§Ã£o - Sala de Guerra de Dados
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Dashboard do Administrador - InteligÃªncia em AÃ§Ã£o      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  ğŸ“Š Profundidade de Engajamento                               â”‚
â”‚     â€¢ DuraÃ§Ã£o mÃ©dia: 5.2 mensagens                            â”‚
â”‚     â€¢ Conversas curtas: 12  |  Conversas longas: 38          â”‚
â”‚                                                                â”‚
â”‚  ğŸ‘¥ Lealdade do UsuÃ¡rio (Top 5)                               â”‚
â”‚     1. usuario_alpha â€” 45 conversas                           â”‚
â”‚     2. usuario_beta â€” 38 conversas                            â”‚
â”‚     ...                                                        â”‚
â”‚                                                                â”‚
â”‚  âš ï¸  AnÃ¡lise de Falhas                                        â”‚
â”‚     â€¢ Respostas inconclusivas: 8                              â”‚
â”‚     â€¢ Ãšltimos trechos com falha: [detalhes]                   â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ Features Principais

- ğŸ­ **PersonalizaÃ§Ã£o Adaptativa de IA**
  - 5 personalidades distintas: Professor, DJ, CrÃ­tico, Compositor, Historiador
  - Cada personalidade tem instruÃ§Ãµes de sistema Ãºnicas
  - SeleÃ§Ã£o salva em tempo real no navegador

- ğŸ“Š **Painel de AdministraÃ§Ã£o AvanÃ§ado** (Sala de Guerra de Dados)
  - Dashboard com mÃ©tricas de engajamento em tempo real
  - DetecÃ§Ã£o automÃ¡tica de falhas do bot com anÃ¡lise de padrÃµes
  - Ranking de usuÃ¡rios mais ativos (Top 5)
  - AnÃ¡lise de profundidade de conversas (curtas vs. longas)

- ğŸ’¾ **HistÃ³rico Inteligente de Conversas**
  - Armazenamento persistente em MongoDB
  - GeraÃ§Ã£o automÃ¡tica de tÃ­tulos por IA
  - Capacidade de renomear e deletar conversas
  - VisualizaÃ§Ã£o detalhada de diÃ¡logos anteriores

- ğŸŒ **IntegraÃ§Ã£o com APIs Externas**
  - **Google Gemini 2.5 Flash**: IA generativa de Ãºltima geraÃ§Ã£o
  - **OpenWeather**: InformaÃ§Ãµes climÃ¡ticas em tempo real
  - **Last.fm**: Busca e recomendaÃ§Ã£o de mÃºsicas

- ğŸ”§ **FunÃ§Ãµes Auxiliares Inteligentes**
  - `getCurrentTime()`: Retorna hora/data exata do Brasil (fuso BrasÃ­lia)
  - `getWeather()`: Clima em qualquer cidade com detalhes completos
  - `searchSong()`: Busca de mÃºsicas e artistas com informaÃ§Ãµes

- ğŸ›¡ï¸ **SeguranÃ§a e AutenticaÃ§Ã£o**
  - AutenticaÃ§Ã£o Admin com Basic Auth
  - Criptografia de senhas com bcryptjs
  - Endpoints protegidos para operaÃ§Ãµes crÃ­ticas

- ğŸ“± **Design Responsivo e Moderno**
  - Interface elegante com gradientes e glassmorphism
  - Suporte completo para mobile, tablet e desktop
  - AnimaÃ§Ãµes fluidas e feedback visual em tempo real

---

## ğŸš€ Tech Stack

| Tecnologia | DescriÃ§Ã£o |
|-----------|-----------|
| **Node.js** | Runtime JavaScript do servidor |
| **Express** | Framework web para APIs REST |
| **MongoDB** | Banco de dados NoSQL escalÃ¡vel |
| **Mongoose** | ODM (Object Data Modeling) para MongoDB |
| **Google Gemini 2.5** | IA generativa de Ãºltima geraÃ§Ã£o |
| **JavaScript (ES6+)** | Linguagem de programaÃ§Ã£o moderna |
| **bcryptjs** | Hash seguro de senhas |
| **Axios** | Cliente HTTP para requisiÃ§Ãµes |
| **OpenWeather API** | ServiÃ§o de informaÃ§Ãµes climÃ¡ticas |
| **Last.fm API** | ServiÃ§o de dados musicais |

---

## ğŸ¯ Links para Demo

### ğŸŒ Frontend (Chat Interativo)
**[ğŸš€ Acesse o Chat Agora!](https://chatbot-dny3.onrender.com)**
- Acesso livre - comece a conversar agora!
- Chat em tempo real com 5 personalidades
- HistÃ³rico de conversas
- SeleÃ§Ã£o de personalidades

### âš™ï¸ Backend (APIs)
**[ğŸ“¡ Base URL: https://chatbot-dny3.onrender.com](https://chatbot-dny3.onrender.com)**
- Status: âœ… Ativo e operacional
- Endpoints RESTful para:
  - `POST /chat` - Enviar mensagem
  - `GET /api/chat/historicos` - HistÃ³rico
  - `GET /api/admin/dashboard` - MÃ©tricas
  - `GET/PUT /api/user/preferences` - PreferÃªncias

### ğŸ” Painel Admin
**[ğŸ”‘ Painel Administrativo](https://chatbot-dny3.onrender.com/admin.html)**
- AutenticaÃ§Ã£o: Basic Auth
- Funcionalidades: 
  - MÃ©tricas de engajamento em tempo real
  - AnÃ¡lise de falhas do bot
  - ConfiguraÃ§Ã£o global de system instruction
  - Ranking de usuÃ¡rios mais ativos

---

## ğŸ“¦ InstalaÃ§Ã£o Local

### PrÃ©-requisitos
- Node.js v14+
- npm ou yarn
- MongoDB (local ou Atlas)
- API Keys necessÃ¡rias:
  - Google Gemini API
  - OpenWeather API (opcional)
  - Last.fm API (opcional)

### Passos

```bash
# 1. Clone o repositÃ³rio
git clone https://github.com/seu-usuario/chatbot-musical.git
cd chatbot-musical

# 2. Instale dependÃªncias
npm install

# 3. Configure variÃ¡veis de ambiente (.env)
MONGO_HISTORIA=mongodb+srv://user:pass@cluster.mongodb.net/chatbot
GEMINI_API_KEY=your_gemini_api_key
OPENWEATHER_API_KEY=your_weather_api_key
LASTFM_API_KEY=your_lastfm_api_key
ADMIN_BOOTSTRAP_TOKEN=your_bootstrap_token
PORT=3001

# 4. Inicie o servidor
npm start

# 5. Acesse no navegador
# Frontend: http://localhost:3001
# Admin: http://localhost:3001/admin.html
```

---

## ğŸ—ï¸ Arquitetura do Projeto

```
chatbot-musical/
â”‚
â”œâ”€â”€ ğŸ“„ server.js                    # Servidor Express principal
â”œâ”€â”€ ğŸ“„ .env                         # VariÃ¡veis de ambiente
â”‚
â”œâ”€â”€ ğŸ“ models/
â”‚   â”œâ”€â”€ SessaoChat.js              # Schema para histÃ³rico de chats
â”‚   â”œâ”€â”€ AdminUser.js               # Schema para usuÃ¡rios admin
â”‚   â””â”€â”€ User.js                    # Schema para preferÃªncias de usuÃ¡rios
â”‚
â”œâ”€â”€ ğŸ“ public/
â”‚   â”œâ”€â”€ index.html                 # Interface principal do chat
â”‚   â”œâ”€â”€ admin.html                 # Painel administrativo
â”‚   â”œâ”€â”€ script.js                  # LÃ³gica do chat (cliente)
â”‚   â”œâ”€â”€ admin.js                   # LÃ³gica do painel admin
â”‚   â”œâ”€â”€ personalities.js           # Gerenciamento de personalidades
â”‚   â”œâ”€â”€ styles.css                 # Estilos principais
â”‚   â”œâ”€â”€ personality-styles.css     # Estilos das personalidades
â”‚   â””â”€â”€ history-modal.css          # Estilos do histÃ³rico
â”‚
â””â”€â”€ ğŸ“„ README.md                   # Este arquivo
```

---

## ğŸ“ Casos de Uso

### Para UsuÃ¡rios Finais
âœ… Conversar sobre mÃºsica em diferentes estilos e especialidades
âœ… Selecionar 5 personalidades diferentes para diferentes contextos
âœ… Manter histÃ³rico de conversas com tÃ­tulos gerados automaticamente
âœ… Buscar informaÃ§Ãµes sobre mÃºsicas, artistas e tendÃªncias
âœ… Obter recomendaÃ§Ãµes musicais personalizadas

### Para Administradores
âœ… Monitorar engajamento de usuÃ¡rios em tempo real
âœ… Identificar automaticamente falhas e pontos fracos do bot
âœ… Ajustar instruÃ§Ãµes globais do sistema
âœ… Analisar padrÃµes de uso e comportamento
âœ… Tomar decisÃµes estratÃ©gicas baseadas em dados (Business Intelligence)

---

## ğŸ“Š Plano de Melhorias Baseado em Dados

### 1ï¸âƒ£ Reduzir Respostas Inconclusivas sobre Temas EspecÃ­ficos

**ObservaÃ§Ã£o**: O widget "AnÃ¡lise de Falhas" mostra uma concentraÃ§Ã£o de falhas sobre determinados temas (ex: preÃ§os, disponibilidade).

**AÃ§Ã£o Proposta**: 
- Atualizar a `systemInstruction` para incluir guias de resposta especÃ­ficos
- Adicionar dados complementares (FAQ) que o bot possa consultar
- Treinar o modelo com exemplos de respostas melhores

**Impacto Esperado**: â†“ 40% de respostas inconclusivas em 2 semanas

---

### 2ï¸âƒ£ Melhorar Engajamento para Conversas Curtas

**ObservaÃ§Ã£o**: "DuraÃ§Ã£o MÃ©dia" Ã© baixa e muitas conversas sÃ£o curtÃ­ssimas (â‰¤3 mensagens).

**AÃ§Ã£o Proposta**:
- Ajustar a abertura do bot com sugestÃµes de tÃ³picos interativos
- Implementar prompts envolventes (ex: "Posso procurar uma mÃºsica, dar recomendaÃ§Ãµes ou mostrar tendÃªncias â€” o que prefere?")
- Testar variaÃ§Ãµes A/B na `systemInstruction` para maximizar engajamento

**Impacto Esperado**: â†‘ 50% na duraÃ§Ã£o mÃ©dia de conversas

---

## ğŸ”„ Ciclo de Melhoria ContÃ­nua (Build â†’ Measure â†’ Learn â†’ Repeat)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Construir  â”‚  â† Criar features e melhorias
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Medir     â”‚  â† Dashboard coleta mÃ©tricas em tempo real
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Aprender   â”‚  â† Analisar insights e padrÃµes
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Repetir   â”‚  â† Implementar melhorias baseadas em dados
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â””â”€â”€â”€â”€â”€â†’ (volta para Construir)
```

**Este ciclo nunca termina** â€” Ã© o que separa produtos bons de produtos incrÃ­veis! ğŸš€

---

## ğŸ¤ Contribuindo

SugestÃµes de melhorias e pull requests sÃ£o bem-vindos! Para mudanÃ§as maiores:

1. Abra uma issue descrevendo a mudanÃ§a
2. FaÃ§a um fork do projeto
3. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
4. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
5. Push para a branch (`git push origin feature/AmazingFeature`)
6. Abra um Pull Request

---

## ğŸ“„ LicenÃ§a

ISC - Livre para usar, modificar e distribuir

---

## ğŸ‘¨â€ğŸ’» Desenvolvido com â¤ï¸

**ğŸµ Chatbot Musical**

_Transformando Dados em DecisÃµes EstratÃ©gicas_

**Stack Moderna** | **IA Adaptativa** | **AnÃ¡lise AvanÃ§ada em Tempo Real**

---

**Ãšltima atualizaÃ§Ã£o**: Dezembro 2025 âœ¨
**Status**: âœ… Ativo e em desenvolvimento contÃ­nuo